<html>
<head>

<script src='brequire.js'></script>
<script src='lib/token.js'></script>
<script src='lib/kaffeine.js'></script>
<script src='ext/jquery.js'></script>
<script src='ext/autoheight.js'></script>
<script src='loadPlugins.js'></script>
<script src='load.js'></script>
<link href='style.css' rel='stylesheet' />
<script>require("./lib/kaffeine")</script>
</head>

<body>

<h1>Kaffeine</h1>

<p>Design your own Javascript.<br/>
Inspired by Coffee script, but works by incrementally adding new syntax features via plugins.<br/>
Core code is ~400 lines of code, and plugins are about 10-50 lines long.
<h2>input is live editable</h2>

<script type=kaffeine>
#englify at backticks arrow unless brackets reverse_blocks existential brackets_for_functions indented_blocks string_interpolation extend_for operators implicit_return implicit_vars half_operators double_brackets

for(x in A) {
  x = 1
}
</script>

<script type=kaffeine>
#arrow

var x = (a) -> return a

ok( x(true) )

var x = -> return false
ok( ! x() )

ok( (-> return true) )
</script>

<script type=kaffeine>
#existential double_brackets
if(x?)
  send()

while(A.c["hello"]?.call())
  return

getNext()?.call(y)[123]

if(x?? && x?)
  return


</script>

<script type=kaffeine>
#implicit_vars
z = 1
function() {
  a = 2
  x = 1
  y = 2  
}

function () {
  y = 3, z = 2
  t = x = function() {
  
  }
  
  function(a) {
    x = 13
    w = 2
    a = 1
  }
}


</script>



<script type=kaffeine>
#extend_for

for(i=0; i<g.length; i++) {

}

for(i,v in A()) {

}

for(i, v in A) {

  for(j, v2 in B["1234"].call()) {

  }
}

for(k of C) {
  for(k of C()) {

  }  
}

for(val, i  of C) {
  
}


</script>



</body>
</html>

