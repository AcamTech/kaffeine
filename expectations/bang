#bang
compiles:
sum = add!(3, 4)
ok(sum == 7)
to:
add(3, 4, function(sum) {
  ok(sum == 7)    
})

compiles:

nested!()
nested!()
nested!(1, 2)
x
to:

nested(function() {
  nested(function() {
    nested(1, 2, function() {
      x
    })
  })
})

compiles:

nested!()
@x = 1
this.x = 1
nested!()
@x = 2

to:
var _this = this
nested(function() {
  _this.x = 1
  this.x = 1
  nested(function() {
    _this.x = 2
  })
})
